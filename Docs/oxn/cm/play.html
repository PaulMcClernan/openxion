<html>
<head>
<title>OpenXION Commands - play</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="XIONDoc 1.3">
<meta name="keywords" content="XION, OpenXION, XIONDoc, XIONDocs, XION docs, OpenXION docs, XION documentation, OpenXION documentation, XION manual, OpenXION manual, HyperTalk, HyperTalk clone, xTalk, OpenXION, command, commands, play">
<meta name="description" content="This page describes the play command.">
<link rel="stylesheet" type="text/css" href="../xiondoc.css">
</head>
<body>
<h1>Commands</h1>
<h2>play</h2>
<h3>Supported By</h3>
<ul class="block unorderedlist indent0 border0 nobullet">
<li>OpenXION (1.2, 1.3, 1.4)</li>
<li>OpenXION Audio Module (1.2, 1.3, 1.4)</li>
<li>HyperTalk (2.2)</li>
</ul>
<h3>Syntax</h3>
<p class="block syntax indent0"><code class="keyword">play</code> <em class="metavariable">instrument</em> <span class="optional"><span class="metasymbol">[</span><span class="optional"><span class="metasymbol">[</span><code class="keyword">tempo</code> <em class="metavariable">tempo</em><span class="metasymbol">]</span></span> <em class="metavariable">notes</em><span class="metasymbol">]</span></span></p>
<p class="block syntax indent0"><code class="keyword">play</code> <code class="keyword">stop</code></p>
<p class="block paragraph indent0"> <em class="metavariable">Instrument</em> and <em class="metavariable">notes</em> yield <code><a href="../dt/string.html">string</a></code>s. <em class="metavariable">Tempo</em> yields a <code><a href="../dt/number.html">number</a></code>. </p>
<h3>Examples</h3>
<pre class="block script indent0">
play "harpsichord" "ch d e f g a b c5w"
</pre>
<pre class="block script indent0">
play "music box" "c4e c dq c f eh"
</pre>
<pre class="block script indent0">
play "harpsichord" "c4 a3 f c4 a3 f c4 d c c c"
</pre>
<h3>Description</h3>
<p class="block paragraph indent0"> The <code>play</code> command plays the specified sequence of <em class="metavariable">notes</em> with the specified <em class="metavariable">instrument</em> using a MIDI synthesizer (in OpenXION) or sampled sounds (in HyperTalk). The <em class="metavariable">tempo</em> parameter specifies the number of quarter notes per minute; the default value is 120. </p>
<p class="block paragraph indent0"> The <code>play</code> command in OpenXION uses an extended version of the scripted music notation originally found in HyperTalk. A sequence of notes is represented as a <code><a href="../dt/string.html">string</a></code> with notes delimited by whitespace. Each note has the following format for a regular note: </p>
<p class="block syntax indent0"><em class="metavariable">noteName</em> <span class="optional"><span class="metasymbol">[</span><em class="metavariable">octave</em><span class="metasymbol">]</span></span> <span class="optional"><span class="metasymbol">[</span><em class="metavariable">duration</em><span class="metasymbol">]</span></span> <span class="optional"><span class="metasymbol">[</span><em class="metavariable">velocity</em><span class="metasymbol">]</span></span> <span class="optional"><span class="metasymbol">[</span><em class="metavariable">effect</em><span class="metasymbol">]</span></span></p>
<p class="block paragraph indent0"> or the following format for a rest: </p>
<p class="block syntax indent0"><em class="metavariable">duration</em> <code class="keyword">r</code></p>
<p class="block paragraph indent0"> <em class="metavariable">NoteName</em> is a letter between <code>A</code> and <code>G</code>, which may or may not be followed by any number of <code>#</code> symbols, each of which raises the pitch a half step, or any number of <code>b</code> symbols, each of which lowers the pitch a half step. In OpenXION, <em class="metavariable">noteName</em> can also be one of the letters <code>M</code>, <code>N</code>, or <code>P</code> followed by the MIDI dollar value, for which 60 is middle C. <em class="metavariable">NoteName</em> is the only required part of a note string. </p>
<p class="block paragraph indent0"> <em class="metavariable">Octave</em> is an integer specifying which octave the note belongs to. If the <em class="metavariable">octave</em> is not specified, the last <em class="metavariable">octave</em> specified is used. The default is 4, the octave starting with middle C. </p>
<p class="block paragraph indent0"> (Middle C corresponds to the note string <code>C4</code> or <code>B#3</code>. The note one half step below middle C is <code>B3</code> or <code>Cb4</code>. 440 Hz corresponds to the note string <code>A4</code>.) </p>
<p class="block paragraph indent0"> <em class="metavariable">Duration</em> is one of the following letters: </p>
<table class="block table indent0 border0">
<tr>
<td><code>w</code></td>
<td>whole note</td>
</tr>
<tr>
<td><code>h</code></td>
<td>half note</td>
</tr>
<tr>
<td><code>q</code></td>
<td>quarter note</td>
</tr>
<tr>
<td><code>e</code></td>
<td>eighth note</td>
</tr>
<tr>
<td><code>s</code></td>
<td>16th note</td>
</tr>
<tr>
<td><code>t</code></td>
<td>32nd note</td>
</tr>
<tr>
<td><code>x</code></td>
<td>64th note</td>
</tr>
<tr>
<td><code>o</code></td>
<td>128th note</td>
</tr>
</table>
<p class="block paragraph indent0"> which may or may not be followed by any number of <code>.</code> symbols, each of which multiplies the duration by 1.5 to create a dotted note, or any number of <code>3</code> symbols, each of which divides the duration by 3 to create a triplet note. (In OpenXION, you can use any digit 2 through 9 to divide the duration by that value. Also in OpenXION, <em class="metavariable">duration</em> can be the letter <code>d</code> followed by the duration in MIDI ticks. OpenXION uses 64 ticks per quarter note.) If the <em class="metavariable">duration</em> is not specified, the last <em class="metavariable">duration</em> specified is used. The default is <code>q</code>, the duration of a quarter note. </p>
<p class="block paragraph indent0"> <em class="metavariable">Velocity</em> is an extension provided by OpenXION not found in HyperTalk. It may be any of the following strings: </p>
<table class="block table indent0 border0">
<tr>
<td><code>fff</code></td>
<td>triple forte (velocity 127)</td>
</tr>
<tr>
<td><code>ff</code></td>
<td>fortissimo (velocity 112)</td>
</tr>
<tr>
<td><code>f</code></td>
<td>forte (velocity 96)</td>
</tr>
<tr>
<td><code>mff</code></td>
<td>(velocity 88)</td>
</tr>
<tr>
<td><code>mf</code></td>
<td>mezzo forte (velocity 80)</td>
</tr>
<tr>
<td><code>m</code></td>
<td>(velocity 72)</td>
</tr>
<tr>
<td><code>mp</code></td>
<td>mezzo piano (velocity 64)</td>
</tr>
<tr>
<td><code>mpp</code></td>
<td>(velocity 56)</td>
</tr>
<tr>
<td><code>p</code></td>
<td>piano (velocity 48)</td>
</tr>
<tr>
<td><code>pp</code></td>
<td>pianissimo (velocity 32)</td>
</tr>
<tr>
<td><code>ppp</code></td>
<td>triple piano (velocity 16)</td>
</tr>
</table>
<p class="block paragraph indent0"> <em class="metavariable">Velocity</em> can also be the letter <code>v</code> followed by the velocity of the note from 0 to 127. If the <em class="metavariable">velocity</em> is not specified, the last <em class="metavariable">velocity</em> specified is used. The default is <code>fff</code> or 127. </p>
<p class="block paragraph indent0"> <em class="metavariable">Effect</em> is another extension provided by OpenXION not found in HyperTalk. It is one or more of the following characters: </p>
<table class="block table indent0 border0">
<tr>
<td><code>,</code></td>
<td> The note is stopped a few MIDI ticks before it normally would be, creating a stoccato effect. </td>
</tr>
<tr>
<td><code>*</code></td>
<td> The note keeps playing after its duration has passed. This can be used to start a fermata. (This overrides the effect of any <code>,</code> or any preceding <code>!</code>.) </td>
</tr>
<tr>
<td><code>!</code></td>
<td> Stops a note previously started by <code>*</code> after the duration has passed. This can be used to end a fermata. If the note is not already playing, this is equivalent to a rest. (This overrides the effect of any preceding <code>*</code>.) </td>
</tr>
<tr>
<td><code>+</code></td>
<td> Starts the next note at the same time as this note, creating a chord. </td>
</tr>
</table>
<p class="block paragraph indent0"> If <em class="metavariable">effect</em> is not specified, no effects are applied. </p>
<p class="block paragraph indent0"> If the note string contains an <code>r</code>, it is a rest and only the duration can be specified. </p>
<h3>Notes</h3>
<p class="block paragraph indent0"> The <code>play</code> command is asynchronous: it will return immediately while the sound keeps playing in the background. If there is already sound playing on the current <code><a href="../pr/soundchannel.html">soundChannel</a></code>, the next sound to be played will be added to a queue. The <code>play stop</code> form of the <code>play</code> command will stop playing any sound on the current <code><a href="../pr/soundchannel.html">soundChannel</a></code>. The <code>stop sound</code> command will stop all currently-playing and pending sounds on all <code><a href="../pr/soundchannel.html">soundChannel</a></code>s. </p>
<p class="block paragraph indent0"> Early versions of HyperTalk limited the length of the note string to 254 characters. OpenXION and later versions of HyperTalk do not limit the length of the note string. </p>
<p class="block paragraph indent0"> In HyperTalk, the <code>play</code> command accepted note strings that were left unquoted, and this was often done. For example: </p>
<pre class="block script indent0">
play harpsichord c4 a3 f c4 a3 f c4 d c c c
</pre>
<p class="block paragraph indent0"> OpenXION will also accept unquoted note strings, but this is highly discouraged. You cannot use any special symbols (such as <code>#</code>, <code>.</code>, or <code>+</code>) in an unquoted note string, and if one of the notes in an unquoted note string turns out to also be the name of a constant or variable, the value of the constant or the contents of the variable will be played instead of the intended note. </p>
<h3>See Also</h3>
<p class="block paragraph indent0"><code><a href="../cm/stop.html">stop</a></code>, <code><a href="../fn/sound.html">sound</a></code>, <code><a href="../fn/sounds.html">sounds</a></code>, <code><a href="../pr/soundchannel.html">soundChannel</a></code></p>
</body>
</html>
